<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>練習2</title>
</head>
<body>
    <h1>ax+by=1を解く</h1>
    <form name=form1>
        a=<input type="text" id="a"><br>
        b=<input type="text" id="b"><br>
        <input type="button" value="計算" onclick="calc();">
        <button type="butten" onclick="reset">リセット</button><hr>
        <textarea cols="70" rows="30" id="result"></textarea>
    </form>
  
    
    <script language="javascript" type="text/javascript">
        function calc() {
            var a=parseInt(document.getElementById("a").value);
            var b=parseInt(document.getElementById("b").value);

            var q1=[];
            var r1=[];
            var a1=[];
            var b1=[];
            var c1=[];
            var d1=[];
            var i=0;
            var q=a/b|0;                        
            var r=a%b;                          
            q1.push(q);
            r1.push(r);
            a1.push(a);
            b1.push(b);
            
            result.value += "ユークリッドの互除法"+"\n";
            result.value += a+"="+q+"*"+b+"+"+r+"\n";
            while(r!=0){                        
                a=b;
                b=r;

                q=a/b|0;
                r=a%b;
                q1.push(q);
                r1.push(r);
                a1.push(a);
                b1.push(b);

                result.value += a+"="+q+"*"+b+"+"+r+"\n";

                i=i+1;
            }
           
            i=i-1;                                  
            result.value += "余り＝の形に並びかえ"+"\n";
            for(let j=i;j>=0;j--){                
                result.value += r1[j]+"="+a1[j]+-q1[j]+"*"+b1[j]+"\n";
            }

            c1[i]=1;                              
            d1[i]= (-q1[i]);
            result.value += "1="+"("+c1[i]+")"+"*"+a1[i]+"+"+"("+d1[i]+")*"+b1[i]+"\n";

            while(i!=0){
                i=i-1;
                c1[i]= d1[i+1];
                d1[i]= (1-c1[i]*a1[i])/b1[i];
                result.value += "1="+"("+c1[i]+")"+"*"+a1[i]+"+"+"("+d1[i]+")*"+b1[i]+"\n";
            }
            result.value += "答えは"+"\n";
            result.value += "x="+c1[i]+"+"+b1[i]+"*t"+"\n";
            result.value += "y="+d1[i]+"-"+a1[i]+"*t"+"\n";
            }
        
        function reset(){
            document.form1.reset();
        }
    </script>
</body>
</html>
